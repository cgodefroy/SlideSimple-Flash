var list = new Array();var cartoucheInterval;var fadeTime:Number=5;var echelle:Boolean=true;var order:String="sequential";var showCartouche:Boolean=true;var shouldAppear:Boolean=false;var diaporama:Diaporama;var diapoInterval:Number=5000;var fontSize:Number=12;var alignement:String = "left";var showLogo=false;var loop=true;resizer = function() {    _root.cartouche._y = (450-Stage.height)/2-5;	_root.cartouche._x = (450-Stage.width)/2-5;	_root.cartouche.textPart.fond._width = Stage.width + 10;	_root.cartouche.textPart.titre._width = Stage.width - 30;	_root.cartouche.textPart.description._width = Stage.width-30;    diaporama.setMaxHeight(Stage.height);	diaporama.setMaxWidth(Stage.width);};var stageListener:Object = new Object();stageListener.onResize = resizer;Stage.scaleMode = "noScale";Stage.addListener(stageListener);resizer();_root.cartouche._y = (450-Stage.height)/2-5;images_xml = new XML();images_xml.ignoreWhite = true;images_xml.onLoad = parse;images_xml.onData = myOnData;myxml = eval("xmlUrl");if (myxml == undefined) {	myxml = "images.xml";}images_xml.load(myxml);showOrHide();function launchDiapo(){	diaporama = new Diaporama(_root.diapo,Stage.width, Stage.height);	diaporama.setDiapoList(list);	diaporama.setFadeTime(fadeTime);	diaporama.setDiapoInterval(diapoInterval);	diaporama.setScale(echelle);	diaporama.setLoop(loop);	if(order=="sequential") diaporama.setOrderSequential();	if(order=="random") diaporama.setOrderRandom();	diaporama.launch();		//if(_root._url.indexOf("www.cyrilgodefroy.com")<0)	//	getUrl("http://www.cyrilgodefroy.com/fr/produits/", "_blank");}function myOnData (src) {  if (src == undefined) {    this.onLoad(false);  } else{	  _root.xmlText=src;    this.parseXML(src);    this.loaded = true;    this.onLoad(true);  }}function fontFormatReg(object){	tfn = new TextFormat();	tfn.bold=false;	tfn.size=fontSize;	tfn.font="_sans";	tfn.align=alignement;	object.setTextFormat(tfn);}function fontFormatBold(object){	tfb = new TextFormat();	tfb.bold=true;	tfb.size=fontSize;	tfb.font="_sans";	tfb.align=alignement;	object.setTextFormat(tfb);}function parse(success) {	if (success) {		var root = this.firstChild;		if(root.attributes.fadeTime!=undefined)			fadeTime=root.attributes.fadeTime*1;		if(root.attributes.bgimage!=undefined)				bgimage=root.attributes.bgimage;		if(root.attributes.echelle!=undefined && root.attributes.echelle=="false")			echelle=false;		if(root.attributes.loop!=undefined && root.attributes.loop=="false")				loop=false;		if(root.attributes.ordre!=undefined)			order=root.attributes.ordre;		if(root.attributes.cartouche!=undefined && root.attributes.cartouche=="false")			showCartouche=false;		if(root.attributes.diapoInterval!=undefined)			diapoInterval=root.attributes.diapoInterval*1000;		if(root.attributes.fontSize!=undefined)			fontSize=root.attributes.fontSize*1;		if(root.attributes.alignement!=undefined)			alignement=root.attributes.alignement;					var imageNode = root.lastChild;		var s = 0;		while (imageNode.nodeName != null) {			var diapo:cgodefroy.beans.DiapoWithText= new DiapoWithText();			diapo.setImageUrl(imageNode.attributes.url);			diapo.setTitle(imageNode.attributes.titre);			diapo.setDescription(imageNode.attributes.description);			diapo.setDestination(imageNode.attributes.destination);			diapo.setTarget(imageNode.attributes.target)			list[s] = diapo;			imageNode = imageNode.previousSibling;			s++;		}		list.reverse();				// chargement image de fond le cas échéant		if(bgimage){			_root.bg.loadMovie(bgimage);		}				launchDiapo();	} }_root.diapo.setCurrentDiapo = function(index:Number){	_root.cartouche.textPart.titre.text =_root.cartouche.textPart.description.text =""	if(list[index].hasTitle()){		_root.cartouche.textPart.titre.text = list[index].getTitle();		fontFormatBold(_root.cartouche.textPart.titre);	}	if(list[index].hasDescription()){		_root.cartouche.textPart.description.text = list[index].getDescription();		fontFormatReg(_root.cartouche.textPart.description);	}	if(_root.cartouche.textPart.titre.text!="" || _root.cartouche.textPart.description.text!=""){		shouldAppear=true;		_root.cartouche.textPart.moveHorizontal(10, 0,true);		cartoucheInterval=setInterval(disappear, diapoInterval-1000);	}	if(list[index].getDestination()!=undefined){		_root.diapo.onRelease = function(){			if(list[index].getTarget()==undefined || list[index].getTarget()==""){				getUrl(list[index].getDestination());			} else {				getUrl(list[index].getDestination(), list[index].getTarget());			}		}	}}function disappear(){	shouldAppear=false;	_root.cartouche.textPart.moveHorizontal(5,-95, true);	clearInterval(cartoucheInterval);}